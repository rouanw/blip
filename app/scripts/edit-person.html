<h2>Capture your progress</h2>

<form>
  <div class="form-group">
    <label for="name">Name</label>
    <input type="text" class="form-control" id="name" placeholder="Name"
      ng-model="person.name" required="true" ng-trim="true">
  </div>

  <div ng-repeat="assessment in person.assessments">
    <hr />
    <div class="form-group">
      <label for="category{{$index}}">Category</label>
      <input type="text" class="form-control" id="category{{$index}}"
        placeholder="Category - What topic are you learning about?"
        ng-model="assessment.category" required="true" ng-trim="true">
    </div>

    <h4>Your self-assessments</h4>
    <div class="form-group" ng-repeat="rating in assessment.ratings">
      <label>Rating number {{$index}}</label>
      <table>
        <thead>
        <tr>
          <td>Skill</td>
          <td>Rating</td>
        </tr>
        </thead>
        <tbody>
          <tr ng-repeat="(key, value) in rating">
            <td>
              <p class="form-control-static">{{key}}</p>
            </td>
            <td>
              <input type="number" class="form-control"
                placeholder="1-5" ng-model="rating[key]"
                min="1" max="5">
            </td>
          </tr>
            <td>
              <input type="text" class="form-control"
                placeholder="New skill" ng-model="newRatingKey">
            </td>
            <td>
              <input type="number" class="form-control"
                placeholder="1-5" ng-model="newRatingValue"
                min="1" max="5">
            </td>
            <td>
              <button ng-click="addSkill(rating, newRatingKey, newRatingValue)">Add</button>
            </td>
          <tr>
          </tr>
        </tbody>
      </table>
    </div>
    <button ng-click="addRating(assessment)">Add today's self-assessment</button>
  </div>

  <button ng-click="save(person)" class="btn btn-primary">Save</button>
</form>
